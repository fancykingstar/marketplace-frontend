{"ast":null,"code":"import axios from \"axios\"; // const apiUrl = process.env.NODE_ENV ? process.env.DEV_API_URL : process.env.PROD_API_URL;\n\nvar apiUrl = \"http://localhost:5000/api\"; // const apiUrl = \"http://sneakerxwars.com/api\"\n\n/* Common API */\n\nvar api = axios.create({\n  baseURL: apiUrl,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\napi.interceptors.response.use(function (response) {\n  return response.data;\n}, function (error) {\n  return Promise.reject(error.response);\n});\n/* Auth API */\n\nvar authApi = axios.create({\n  baseURL: apiUrl,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\nauthApi.interceptors.request.use(function (config) {\n  if (!config.withoutAuth) {\n    config.headers.Authorization = \"token \".concat(window.localStorage.getItem(\"token\"));\n  }\n\n  return config;\n}, function (error) {\n  return Promise.reject(error.response);\n});\nauthApi.interceptors.response.use(function (response) {\n  return response.data;\n}, function (error) {\n  return Promise.reject(error.response);\n});\nexport { api, authApi };","map":{"version":3,"sources":["D:/Work/cozin/project/novine-react/util/api.js"],"names":["axios","apiUrl","api","create","baseURL","headers","interceptors","response","use","data","error","Promise","reject","authApi","request","config","withoutAuth","Authorization","window","localStorage","getItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,IAAMC,MAAM,GAAG,2BAAf,C,CACA;;AAEA;;AAEA,IAAMC,GAAG,GAAGF,KAAK,CAACG,MAAN,CAAa;AACrBC,EAAAA,OAAO,EAAEH,MADY;AAErBI,EAAAA,OAAO,EAAE;AACL,oBAAgB;AADX;AAFY,CAAb,CAAZ;AAOAH,GAAG,CAACI,YAAJ,CAAiBC,QAAjB,CAA0BC,GAA1B,CACI,UAACD,QAAD,EAAc;AACV,SAAOA,QAAQ,CAACE,IAAhB;AACH,CAHL,EAII,UAACC,KAAD,EAAW;AACP,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAK,CAACH,QAArB,CAAP;AACH,CANL;AASA;;AAEA,IAAMM,OAAO,GAAGb,KAAK,CAACG,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAEH,MADgB;AAEzBI,EAAAA,OAAO,EAAE;AACL,oBAAgB;AADX;AAFgB,CAAb,CAAhB;AAOAQ,OAAO,CAACP,YAAR,CAAqBQ,OAArB,CAA6BN,GAA7B,CACI,UAACO,MAAD,EAAY;AACR,MAAI,CAACA,MAAM,CAACC,WAAZ,EAAyB;AACrBD,IAAAA,MAAM,CAACV,OAAP,CAAeY,aAAf,mBAAwCC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAxC;AACH;;AACD,SAAOL,MAAP;AACH,CANL,EAOI,UAACL,KAAD,EAAW;AACP,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAK,CAACH,QAArB,CAAP;AACH,CATL;AAYAM,OAAO,CAACP,YAAR,CAAqBC,QAArB,CAA8BC,GAA9B,CACI,UAACD,QAAD,EAAc;AACV,SAAOA,QAAQ,CAACE,IAAhB;AACH,CAHL,EAII,UAACC,KAAD,EAAW;AACP,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAK,CAACH,QAArB,CAAP;AACH,CANL;AASA,SAASL,GAAT,EAAcW,OAAd","sourcesContent":["import axios from \"axios\";\r\n// const apiUrl = process.env.NODE_ENV ? process.env.DEV_API_URL : process.env.PROD_API_URL;\r\nconst apiUrl = \"http://localhost:5000/api\"\r\n// const apiUrl = \"http://sneakerxwars.com/api\"\r\n\r\n/* Common API */\r\n\r\nconst api = axios.create({\r\n    baseURL: apiUrl,\r\n    headers: {\r\n        \"Content-Type\": \"application/json\",\r\n    },\r\n});\r\n\r\napi.interceptors.response.use(\r\n    (response) => {\r\n        return response.data\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error.response)\r\n    }\r\n);\r\n\r\n/* Auth API */\r\n\r\nconst authApi = axios.create({\r\n    baseURL: apiUrl,\r\n    headers: {\r\n        \"Content-Type\": \"application/json\",\r\n    },\r\n});\r\n\r\nauthApi.interceptors.request.use(\r\n    (config) => {\r\n        if (!config.withoutAuth) {\r\n            config.headers.Authorization = `token ${window.localStorage.getItem(\"token\")}`\r\n        }\r\n        return config\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error.response)\r\n    }\r\n);\r\n\r\nauthApi.interceptors.response.use(\r\n    (response) => {\r\n        return response.data\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error.response)\r\n    }\r\n);\r\n\r\nexport { api, authApi }\r\n"]},"metadata":{},"sourceType":"module"}