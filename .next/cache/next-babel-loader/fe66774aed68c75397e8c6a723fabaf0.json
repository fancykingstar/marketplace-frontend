{"ast":null,"code":"import axios from \"axios\";\nconst apiUrl = \"development\" ? process.env.DEV_API_URL : process.env.PROD_API_URL;\n/* Common API */\n\nconst api = axios.create({\n  baseURL: apiUrl,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\napi.interceptors.response.use(response => {\n  return response.data;\n}, error => {\n  return Promise.reject(error.response);\n});\n/* Auth API */\n\nconst authApi = axios.create({\n  baseURL: apiUrl,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\nauthApi.interceptors.request.use(config => {\n  if (!config.withoutAuth) {\n    config.headers.Authorization = `token ${window.localStorage.getItem(\"token\")}`;\n  }\n\n  return config;\n}, error => {\n  return Promise.reject(error.response);\n});\nauthApi.interceptors.response.use(response => {\n  return response.data;\n}, error => {\n  return Promise.reject(error.response);\n});\nexport { api, authApi };","map":{"version":3,"sources":["D:/Work/cozin/project/novine-react/util/api.js"],"names":["axios","apiUrl","process","env","DEV_API_URL","PROD_API_URL","api","create","baseURL","headers","interceptors","response","use","data","error","Promise","reject","authApi","request","config","withoutAuth","Authorization","window","localStorage","getItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,MAAM,GAAG,gBAAuBC,OAAO,CAACC,GAAR,CAAYC,WAAnC,GAAiDF,OAAO,CAACC,GAAR,CAAYE,YAA5E;AAEA;;AAEA,MAAMC,GAAG,GAAGN,KAAK,CAACO,MAAN,CAAa;AACvBC,EAAAA,OAAO,EAAEP,MADc;AAEvBQ,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT;AAFc,CAAb,CAAZ;AAOAH,GAAG,CAACI,YAAJ,CAAiBC,QAAjB,CAA0BC,GAA1B,CACGD,QAAD,IAAc;AACZ,SAAOA,QAAQ,CAACE,IAAhB;AACD,CAHH,EAIGC,KAAD,IAAW;AACT,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAK,CAACH,QAArB,CAAP;AACD,CANH;AASA;;AAEA,MAAMM,OAAO,GAAGjB,KAAK,CAACO,MAAN,CAAa;AAC3BC,EAAAA,OAAO,EAAEP,MADkB;AAE3BQ,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT;AAFkB,CAAb,CAAhB;AAOAQ,OAAO,CAACP,YAAR,CAAqBQ,OAArB,CAA6BN,GAA7B,CACGO,MAAD,IAAY;AACV,MAAI,CAACA,MAAM,CAACC,WAAZ,EAAyB;AACvBD,IAAAA,MAAM,CAACV,OAAP,CAAeY,aAAf,GAAgC,SAAQC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAqC,EAA7E;AACD;;AAED,SAAOL,MAAP;AACD,CAPH,EAQGL,KAAD,IAAW;AACT,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAK,CAACH,QAArB,CAAP;AACD,CAVH;AAaAM,OAAO,CAACP,YAAR,CAAqBC,QAArB,CAA8BC,GAA9B,CACGD,QAAD,IAAc;AACZ,SAAOA,QAAQ,CAACE,IAAhB;AACD,CAHH,EAIGC,KAAD,IAAW;AACT,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAK,CAACH,QAArB,CAAP;AACD,CANH;AASA,SAASL,GAAT,EAAcW,OAAd","sourcesContent":["import axios from \"axios\";\r\nconst apiUrl = process.env.NODE_ENV ? process.env.DEV_API_URL : process.env.PROD_API_URL;\r\n\r\n/* Common API */\r\n\r\nconst api = axios.create({\r\n  baseURL: apiUrl,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    return response.data\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error.response)\r\n  }\r\n);\r\n\r\n/* Auth API */\r\n\r\nconst authApi = axios.create({\r\n  baseURL: apiUrl,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nauthApi.interceptors.request.use(\r\n  (config) => {\r\n    if (!config.withoutAuth) {\r\n      config.headers.Authorization = `token ${window.localStorage.getItem(\"token\")}`\r\n    }\r\n\r\n    return config\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error.response)\r\n  }\r\n);\r\n\r\nauthApi.interceptors.response.use(\r\n  (response) => {\r\n    return response.data\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error.response)\r\n  }\r\n);\r\n\r\nexport { api, authApi }\r\n"]},"metadata":{},"sourceType":"module"}