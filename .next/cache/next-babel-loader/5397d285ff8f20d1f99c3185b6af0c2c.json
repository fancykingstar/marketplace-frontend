{"ast":null,"code":"import axios from \"axios\"; // const apiUrl = process.env.NODE_ENV ? process.env.DEV_API_URL : process.env.PROD_API_URL;\n\nconst apiUrl = \"http://localhost:5000/api\";\n/* Common API */\n\nconst api = axios.create({\n  baseURL: apiUrl,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\napi.interceptors.response.use(response => {\n  return response.data;\n}, error => {\n  return Promise.reject(error.response);\n});\n/* Auth API */\n\nconst authApi = axios.create({\n  baseURL: apiUrl,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\nauthApi.interceptors.request.use(config => {\n  if (!config.withoutAuth) {\n    config.headers.Authorization = `token ${window.localStorage.getItem(\"token\")}`;\n  }\n\n  return config;\n}, error => {\n  return Promise.reject(error.response);\n});\nauthApi.interceptors.response.use(response => {\n  return response.data;\n}, error => {\n  return Promise.reject(error.response);\n});\nexport { api, authApi };","map":{"version":3,"sources":["D:/Work/cozin/project/novine-react/util/api.js"],"names":["axios","apiUrl","api","create","baseURL","headers","interceptors","response","use","data","error","Promise","reject","authApi","request","config","withoutAuth","Authorization","window","localStorage","getItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,MAAMC,MAAM,GAAG,2BAAf;AAEA;;AAEA,MAAMC,GAAG,GAAGF,KAAK,CAACG,MAAN,CAAa;AACrBC,EAAAA,OAAO,EAAEH,MADY;AAErBI,EAAAA,OAAO,EAAE;AACL,oBAAgB;AADX;AAFY,CAAb,CAAZ;AAOAH,GAAG,CAACI,YAAJ,CAAiBC,QAAjB,CAA0BC,GAA1B,CACKD,QAAD,IAAc;AACV,SAAOA,QAAQ,CAACE,IAAhB;AACH,CAHL,EAIKC,KAAD,IAAW;AACP,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAK,CAACH,QAArB,CAAP;AACH,CANL;AASA;;AAEA,MAAMM,OAAO,GAAGb,KAAK,CAACG,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAEH,MADgB;AAEzBI,EAAAA,OAAO,EAAE;AACL,oBAAgB;AADX;AAFgB,CAAb,CAAhB;AAOAQ,OAAO,CAACP,YAAR,CAAqBQ,OAArB,CAA6BN,GAA7B,CACKO,MAAD,IAAY;AACR,MAAI,CAACA,MAAM,CAACC,WAAZ,EAAyB;AACrBD,IAAAA,MAAM,CAACV,OAAP,CAAeY,aAAf,GAAgC,SAAQC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAqC,EAA7E;AACH;;AACD,SAAOL,MAAP;AACH,CANL,EAOKL,KAAD,IAAW;AACP,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAK,CAACH,QAArB,CAAP;AACH,CATL;AAYAM,OAAO,CAACP,YAAR,CAAqBC,QAArB,CAA8BC,GAA9B,CACKD,QAAD,IAAc;AACV,SAAOA,QAAQ,CAACE,IAAhB;AACH,CAHL,EAIKC,KAAD,IAAW;AACP,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAK,CAACH,QAArB,CAAP;AACH,CANL;AASA,SAASL,GAAT,EAAcW,OAAd","sourcesContent":["import axios from \"axios\";\r\n// const apiUrl = process.env.NODE_ENV ? process.env.DEV_API_URL : process.env.PROD_API_URL;\r\nconst apiUrl = \"http://localhost:5000/api\"\r\n\r\n/* Common API */\r\n\r\nconst api = axios.create({\r\n    baseURL: apiUrl,\r\n    headers: {\r\n        \"Content-Type\": \"application/json\",\r\n    },\r\n});\r\n\r\napi.interceptors.response.use(\r\n    (response) => {\r\n        return response.data\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error.response)\r\n    }\r\n);\r\n\r\n/* Auth API */\r\n\r\nconst authApi = axios.create({\r\n    baseURL: apiUrl,\r\n    headers: {\r\n        \"Content-Type\": \"application/json\",\r\n    },\r\n});\r\n\r\nauthApi.interceptors.request.use(\r\n    (config) => {\r\n        if (!config.withoutAuth) {\r\n            config.headers.Authorization = `token ${window.localStorage.getItem(\"token\")}`\r\n        }\r\n        return config\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error.response)\r\n    }\r\n);\r\n\r\nauthApi.interceptors.response.use(\r\n    (response) => {\r\n        return response.data\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error.response)\r\n    }\r\n);\r\n\r\nexport { api, authApi }\r\n"]},"metadata":{},"sourceType":"module"}